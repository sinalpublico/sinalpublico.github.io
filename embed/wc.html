<!DOCTYPE html>
<html lang="pt_BR">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #player {
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            height: 100%;
            width: 100%;
            border: 0;
            overflow: hidden;
        }
    </style>
    <meta name="referrer" content="none">
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/sinalpublico/ply@main/assets/css/player-v3.1.min.css"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.js"></script>
    <script src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"></script>
    <script src="//ssl.p.jwpcdn.com/player/v/8.26.0/jwpsrv.js"></script>
    <script src="//fastly.jsdelivr.net/npm/disable-devtool@latest/disable-devtool.min.js"></script>
    <script src="//content.jwplatform.com/libraries/KB5zFt7A.js"></script>
    <script>
        jwplayer.key = 'XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo';
    </script>
</head>
<body>
    <div id="player"></div>
<script>
try {
    document.domain = document.domain;

    const urlParams = new URLSearchParams(window.location.search);
    const channelId = urlParams.get('id');
    const apiUrl = `https://xn----itbavbvaceiz.xn-------43dbabbcqvsac8afbfdwcoeckvkngd1frlguhaj9b.net/wtc.php?id=${channelId}`;

    if (channelId) {
        fetch(apiUrl)
            .then(response => response.json())
            .then(data => {
                const { link, licenses } = data[0];

                var playerInstance = jwplayer("player");
                playerInstance.setup({
                    playlist: [{
                        title: "",
                        sources: [{
                            default: false,
                            type: "dash",
                            file: link,
                            drm: {
                                widevine: {
                                    url: licenses.find(l => l.scheme === 'drm.WIDEVINE_CENC').licenseURL,
                                },
                                playready: {
                                    url: licenses.find(l => l.scheme === 'drm.PLAYREADY_CENC').licenseURL,
                                }
                            },
                            label: "0"
                        }]
                    }],
                    width: "100%",
                    height: "100%",
                    cast: {},
                    autostart: false,
                    logo: {
                        file: '',
                        link: '',
                        position: 'top-right'
                    },
                    sharing: {}
                });
            })
            .catch(error => {
                console.error('Error fetching data:', error);
            });
    } else {
        console.error('ID do canal n√£o fornecido na URL');
    }
} catch (e) {
    window.location.href = "https://reidoscanais.org/sandbox.html";
}
</script>
    
</body>
</html>
