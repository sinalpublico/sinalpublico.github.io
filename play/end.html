<!DOCTYPE html>
<html lang="pt_BR">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #player {
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            height: 100%;
            width: 100%;
            border: 0;
            overflow: hidden;
        }
    </style>
    <meta name="referrer" content="none">
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/sinalpublico/ply@main/assets/css/player-v3.1.min.css"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.js"></script>
    <script src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"></script>
    <script src="//ssl.p.jwpcdn.com/player/v/8.26.0/jwpsrv.js"></script>
    <script src="//ssl.p.jwpcdn.com/player/v/8.26.0/vast.js"></script>
    <script src="//fastly.jsdelivr.net/npm/disable-devtool@latest/disable-devtool.min.js"></script>
    <script src="//content.jwplatform.com/libraries/KB5zFt7A.js"></script>
    <script>
        jwplayer.key = 'XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo';
    </script>
</head>
<body>
<div id="player"></div>
<script>
    try {
    document.domain = document.domain;

    function fetchStreamData(channelId) {
        fetch(`https://xn----itbavbvaceiz.xn-------43dbabbcqvsac8afbfdwcoeckvkngd1frlguhaj9b.net/wtc.php?id=${channelId}`)
            .then(response => response.json())
            .then(data => {
                if (data.status === 'OK') {
                    setupPlayer(data);
                } else {
                    console.error('Erro ao obter dados da API:', data.message);
                }
            })
            .catch(error => {
                console.error('Erro na requisição:', error);
            });
    }

    function setupPlayer(data) {
        var playerInstance = jwplayer("player");
        playerInstance.setup({
            playlist: [{
                "title": data.channel_info.title,
                "description": data.channel_info.desc,
                "image": data.channel_info.image,
                "sources": [{
                    "default": true,
                    "type": "hls",
                    "file": data.stream_link,
                    "label": "0"
                }]
            }],
            width: "100%",
            height: "100%",
            cast: {},
            autostart: false,
            logo: {
                file: '',
                link: '',
                position: 'top-right'
            },
            sharing: {},
            advertising: {
                  client: "vast",
                  skipoffset: "6",
                  creativeTimeout: 20000,
                  requestTimeout: 10000,
                  vastLoadTimeout: 10000,
                  tag: "https://code.21wiz.com/ovpaid.php?v=41578cb21de7c43194e35b6af0ca84d8&position=pre"
                }
            });
        }

    function getChannelIdFromUrl() {
        const urlParams = new URLSearchParams(window.location.search);
        const channelId = urlParams.get('id');
        if (channelId) {
            fetchStreamData(channelId);
        } else {
            console.error('ID do canal não encontrado na URL.');
        }
    }

    getChannelIdFromUrl();
    };
}
</script>
</body>

</html>
